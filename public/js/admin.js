(()=>{function t(t){var e=this;this.init=function(){t.on("click.delete",".delete-button",(function(){var t=$(this).closest(".customer").attr("id"),n=parseInt(t.split("-",2).pop(),10);e.deleteCustomer(n)}))},this.deleteCustomer=function(t){confirm("Are you sure you want to delete this customer?")&&$.ajax({url:"/admin/customer/"+t+"/delete",dataType:"json",type:"post",beforeSend:function(){$("#overlay").removeClass("hidden"),$("#customer_manager > .spinner").removeClass("hidden")},error:function(t,e,n){console.log(n)},success:function(e){e.data&&e.data.deleted===t&&$("#customer-"+t).remove()},complete:function(){$("#overlay").addClass("hidden"),$("#customer_manager > .spinner").addClass("hidden"),location.reload()}})}}$(document).ready((function(){new t($("#customer_manager")).init()}))})(),(()=>{function t(t){var e=this,n=t.find("#testimonial_filters"),i=t.find("#testimonial_list");this.init=function(){$('[data-toggle="tooltip"]').tooltip(),n.on("click.filter",'a[role="tab"]',e.filterTestimonials),i.on("click.toggle",".activation-toggle-switch input",(function(){var t=$(this).closest(".testimonial").attr("id"),n=parseInt(t.substring(12),10);e.toggleActiveStatus(n)})),i.on("click.delete",".delete-button",(function(){var t=$(this).closest(".testimonial").attr("id"),n=parseInt(t.substring(12),10);e.deleteTestimonial(n)}))},this.toggleActiveStatus=function(t){var e;$.ajax({url:"/admin/testimonials/"+t+"/toggle-status",dataType:"json",type:"post",error:function(t,e,n){console.log(n)},success:function(i){i.data&&((e=$("#testimonial-"+t)).find(".activation-toggle-switch"),parseInt(i.data.flag_active,10)?e.removeClass("panel-danger").addClass("panel-success"):e.removeClass("panel-success").addClass("panel-danger"),n.find("li.active > a").trigger("click.filter"))}})},this.filterTestimonials=function(){var t=$(this).data("status"),e=i.find(".testimonial");1===t?e.each((function(t,e){var n=$(e),i=n.closest(".testimonial-wrapper");n.find('input[name="flag_active"]').prop("checked")?i.removeClass("hidden"):i.addClass("hidden")})):0===t?e.each((function(t,e){var n=$(e),i=n.closest(".testimonial-wrapper");n.find('input[name="flag_active"]').prop("checked")?i.addClass("hidden"):i.removeClass("hidden")})):e.each((function(t,e){$(e).closest(".testimonial-wrapper").removeClass("hidden")}))},this.deleteTestimonial=function(t){confirm("Are you sure you want to delete this testimonial?")&&$.ajax({url:"/admin/testimonials/"+t+"/delete",dataType:"json",type:"post",error:function(t,e,n){console.log(n)},success:function(e){e.data&&e.data.deleted===t&&$("#testimonial-"+t).closest(".testimonial-wrapper").remove()}})}}$(document).ready((function(){new t($("#testimonial_manager")).init()}))})(),(()=>{function t(){var t=$("body").height()/4;$(document).scrollTop()>=t?$(".scroll-btn").removeClass("hidden"):$(".scroll-btn").addClass("hidden")}$(document).ready((function(){$(window).bind("scroll",(function(){t()})),$("a[href=#top]").bind("click",(function(t){var e;t.preventDefault(),e=1e3,e=parseInt(e,10),$("html, body").animate({scrollTop:0},e)})),t()}))})();