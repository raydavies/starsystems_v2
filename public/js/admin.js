function TestimonialsManager(t){var e=this,a=t.find("#testimonial_filters"),i=t.find("#testimonial_list");this.init=function(){$('[data-toggle="tooltip"]').tooltip(),a.on("click.filter",'a[role="tab"]',e.filterTestimonials),i.on("click.toggle",".activation-toggle-switch input",function(){var t=$(this).closest(".testimonial").attr("id"),a=parseInt(t.substring(12),10);e.toggleActiveStatus(a)}),i.on("click.delete",".delete-button",function(){var t=$(this).closest(".testimonial").attr("id"),a=parseInt(t.substring(12),10);e.deleteTestimonial(a)})},this.toggleActiveStatus=function(t){var e;$.ajax({url:"/admin/testimonials/"+t+"/toggle-status",dataType:"json",type:"post",error:function(t,e,a){console.log(a)},success:function(i){i.data&&(e=$("#testimonial-"+t),e.find(".activation-toggle-switch"),parseInt(i.data.flag_active,10)?e.removeClass("panel-danger").addClass("panel-success"):e.removeClass("panel-success").addClass("panel-danger"),a.find("li.active > a").trigger("click.filter"))}})},this.filterTestimonials=function(){var t=$(this).data("status"),e=i.find(".testimonial");1===t?e.each(function(t,e){var a=$(e),i=a.closest(".testimonial-wrapper");a.find('input[name="flag_active"]').prop("checked")?i.removeClass("hidden"):i.addClass("hidden")}):0===t?e.each(function(t,e){var a=$(e),i=a.closest(".testimonial-wrapper");a.find('input[name="flag_active"]').prop("checked")?i.addClass("hidden"):i.removeClass("hidden")}):e.each(function(t,e){$(e).closest(".testimonial-wrapper").removeClass("hidden")})},this.deleteTestimonial=function(t){var e;confirm("Are you sure you want to delete this testimonial?")&&$.ajax({url:"/admin/testimonials/"+t+"/delete",dataType:"json",type:"post",error:function(t,e,a){console.log(a)},success:function(a){a.data&&a.data.deleted===t&&(e=$("#testimonial-"+t),e.closest(".testimonial-wrapper").remove())}})}}$(document).ready(function(){new TestimonialsManager($("#testimonial_manager")).init()});var FormManager=function(t,e){var a=this,i=(e=e||{},{"email:validEmail":"The email field must contain a valid email address","state_province:validStateAbbr":"This field must contain a valid state"}),s={};this.init=function(){t.data("validateOnStart")&&a.validateForm(),t.on("change",".form-control",function(){a.validateInput($(this))}),t.on("submit",a.validateForm)},this.validateForm=function(){var e=!0;return t.find(".form-group").each(function(){a.validateInput($(this).find(".form-control"))||(e=!1)}),e},this.validateInput=function(t){var n,o,l=t.attr("name"),r=!0;return s[l]="",(e[l]?e[l].split("|"):["noValidate"]).forEach(e=>{a[e](l,t.val())||(s[l]&&(o=s[l],i[l+":"+o]&&(n=i[l+":"+o])),a.setErrorStatus(t,n),r=!1)}),!!r&&(a.setSuccessStatus(t),!0)},this.setSuccessStatus=function(t){t.siblings(".form-control-feedback").removeClass("fa-close hidden").addClass("fa-check"),t.siblings("span.sr-only").removeClass("hidden").text("(success)"),t.closest(".form-group").removeClass("has-error").addClass("has-success").find(".errormsg").empty()},this.setErrorStatus=function(t,e){t.attr("name").replace(/[-_]+/," "),e=e||"This field is required";t.siblings(".form-control-feedback").removeClass("fa-check hidden").addClass("fa-close"),t.siblings("span.sr-only").removeClass("hidden").text("(error)"),t.closest(".form-group").removeClass("has-success").addClass("has-error").find(".errormsg").text(e)},this.required=function(t,e){return""!=a.trimSpace(e)||(s[t]="required",!1)},this.validName=function(t,e){return e.length<=255||(s[t]="validName",!1)},this.validAlphaNum=function(t,e){return!!e.match(/^[a-zA-Z0-9\-\_ ]+$/)||(s[t]="validAlphaNum",!1)},this.validEmail=function(t,e){return!!e.match(/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/)||(s[t]="validEmail",!1)},this.validStateAbbr=function(t,e){return!!e.match(/^[a-zA-Z]{2}$/)||(s[t]="validStateAbbr",!1)},this.noValidate=function(t,e){return!0},this.trimSpace=function(t){return t.replace(/^\s+|\s+$/g,"")}};function showScrollButton(){var t=$("body").height()/4;$(document).scrollTop()>=t?$(".scroll-btn").removeClass("hidden"):$(".scroll-btn").addClass("hidden")}function scrollToTop(t){t=parseInt(t,10);$("html, body").animate({scrollTop:0},t)}$(document).ready(function(){$(window).bind("scroll",function(){showScrollButton()}),$("a[href=#top]").bind("click",function(t){t.preventDefault(),scrollToTop(1e3)}),showScrollButton()});
